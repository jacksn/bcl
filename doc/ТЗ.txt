Тестовое задание для тренировки навыков использования Spring Framework.

Ресурсы, используемые в разработке:
git репозиторий: https://gitlab.akb-it.ru/ufs-pilot/bclient.git
БД: jdbc:postgresql://192.168.238.110/postgres  adm/pwd  bclient/bclient

Цели разработки:
 1. Разработка Web-приложения (back-end компонента) на основе Spring Framework.
 2. Освоение методов конфгурации ApplicationContext при помощи аннотаций и JavaConfig.
 3. Использование бинов, входящих в скопы Singleton, Session, Prototype.
 4. Использование Spring Security для авторизации пользователей, создания пользовательских сессий.
 5. Организация доступа к данным используя Hibernate, JPA, Spring Data.
 6. Управление транзакциями при помощи Spring.
 7. Организация потоко-безопасного доступа к данным в памяти.
 8. Настройка кеша L2 для Hibernate.
 9. Освоение разработки REST API используя инструментарий Spring.
10. Освоение разработки WebService используя инструментарий Spring.

Функциональные требования:
Используем Spring Boot Framework для повышения скорости разработки приложения.

Задачи:
1. Создать сущности и DAO объекты для всех таблиц БД.
2. Организовать авторизацию пользователей, хранящихся в таблице dim_user. Определить полномочия (доступные для работы организации).
3. Отобразить пользователю информацию об его органзациях, счетах, остатках на счетах.
4. Организовать кеш неизменяемых данных в отдельном бине.
5. Обеспечить создание платёжных поручений.
6. Разработать обработку платёжных поручений, обновление остатков на счёте.
7. Обеспечить возможность добавления новых договоров.

Пояснения к задачам:

Заполнение полей платёжного поручения (ПП):
	payment_order_id - Генерируется в БД.
	payment_order_num - Автоинкремент, в рамках выбранного Юр.лица
	payment_order_date - Принудително текущую дату. Ее будем вводить платёжки передним, задним числом.
	sender_legal_entity_id - Текущее (выбранное) Юр.лицо
	contract_id - Выбирется договор текущего Юр.лица. Может быть не выбран.
	sender_account_id - Выбирается счет текущего Юр.лица. Валюта счёта должна совпадать с валютой договора.
	recipient_legal_entity_id - Контрагент из договора. Если договор не выбран - выбрать вручную.
	recipient_account_id - Выбрать счёт ил счетов получателя платежа. Валюта счёта должна совпадать с валютой договора.
	currency_code - Должна соответствовать валюте выбранных счетов.
	payment_order_amt - Вводится пользователем.
	payment_reason - Вводится пользователем.
	payment_priority_code - Существет пять очередностей платежа, примем для них колы (01, 02, 03, 04, 05). Для расчётов с контрагентами используется очередь 05, для расчётов по налогам и сборам - очередь 03.
	payment_order_status_id - Новое.
	reject_reason - пустое.
Функциональные требования к работе с ПП:
1. Необходимо перед сохранение ПП произвести проверку валидности значений всех полей, согласно написанного выше. Мало ли что там на фронте заполнит пользователь.
2. После сохранения ПП переходит в статус Принято.
3. Пользователь должен видеть вписок "его" ПП по выбранному периоду (даты с, по).
4. Пользователь может отменить ПП если оно находитсмя в статусе Новое или Принято.
5. Пользователь не может редактировать ранее введённые им ПП.

Обработка Платёжных поручений.

В конце операционного дня нужно обработат полученные за день ПП, сформировать на их основе операции и подсчитать остатки на расчётных счетах. При обработке ПП нужно руководствоваться следующими принцыпами:
1. Остаток на расчётном счёте не может быть меньше 0.
2. Все ПП обрабатываются в порядке приоритета (очереди) и времени их поступления, в рамках каждого счёта.
3. Если на счёте плательщика не достаточно средств для совершения банковского перевода, с учетом остатка на начало дня и совершённых ранее операций, то операция отменяется с соответствующим комментарием отмены. Однако надо учитывать возможные поступления денег на счёт, идущие хронологически позже.
4. Нужно избегать возможности появлоения новых ПП в течении процесса обработки их.
5. Возможно использование технологических окон (временных периодов) на отправку ПП клиентами и оработку ПП.
